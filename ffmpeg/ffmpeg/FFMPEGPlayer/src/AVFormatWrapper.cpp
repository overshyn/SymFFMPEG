#include "AVFormatWrapper.h"#include "AVExceptions.h"bool AVFormatWrapper::s_bInitialized = false;AVFormatWrapper::AVFormatWrapper():        m_pFormatCtx(NULL){    if (!s_bInitialized) {        av_register_all();        s_bInitialized = true;    }}void AVFormatWrapper::openFile(const std::string & strFilePath){    closeFile();    if (av_open_input_file(&m_pFormatCtx, strFilePath.c_str(), NULL, 0, NULL) != 0) {        //TODO check if closeFile is needed        throw new AVOpenFileException();    }    if (av_find_stream_info(m_pFormatCtx) < 0) {        //TODO check if closeFile is needed        throw new AVObtainStreamsException();    }}AVFormatWrapper::~AVFormatWrapper(){    closeFile();}void AVFormatWrapper::closeFile(){    if (isFileOpened()) {        av_close_input_file(m_pFormatCtx);        m_pFormatCtx = NULL;    }}bool AVFormatWrapper::isFileOpened() const{    return m_pFormatCtx != NULL;}